"use strict";var Deferred=require("./deferred.js");module.exports={setItem:function(e,r){var t=new Deferred;return r=JSON.stringify(r),wx.setStorage({key:e,data:r,success:function(e){t.resolve(e)},fail:function(e){t.resolve(!1)}}),t.promise()},getItem:function(e,r){var t=new Deferred;return wx.getStorage({key:e,success:function(e){try{t.resolve(JSON.parse(e.data),e)}catch(s){t.resolve(r,e)}},fail:function(e){t.resolve(r,e)}}),t.promise()},removeItem:function(e){var r=new Deferred;return wx.removeStorage({key:e,success:function(e){r.resolve(e)}}),r.promise()}};