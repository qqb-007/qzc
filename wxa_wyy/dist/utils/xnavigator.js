"use strict";var urlPath=require("./url-path.js"),Deferred=require("./deferred.js");module.exports={push:function(r,e){"string"==typeof r&&(r={url:r});var t=new Deferred;return urlPath.page(r.url,function(o,n){if(r.url=platform.isWeb()?n.replace(".js",".html"):o,platform.isWeb())return window.parent.location.href=r.url,void(e&&e("WX_SUCCESS"));navigator.push(r,function(r){e&&e(r),t.resolve(r)})}),t.promise()},pop:function(r,e){var t=new Deferred;return navigator.pop(r||{},function(r){e&&e(r),t.resolve(r)}),t.promise()}};