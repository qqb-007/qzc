<meta title="选择商家" args="multi:true,select" width="800"/>
<div class="p">
	<div class="m-b-xs clearfix">
		<form class="form-horizontal" id="storeUsersSearchForm" s="form"
			  s-form="{action:function(){$page.node.val(1); $storeUsersGrid.refresh()}}">
			<input autocomplete="off" type="text" class="form-control input-sm" placeholder="输入门店名称进行查询" name="name"/>
			<input autocomplete="off" type="hidden" name="page" id="page"/>
			<input autocomplete="off" type="submit" class="btn btn-primary btn-sm" value="查找" style="display: none;"/>
		</form>
	</div>
	<div id="storeUsersGrid" s='datac,nda'
		 s-data="S.get('/api/store-user/search', $storeUsersSearchForm.node.serialize())">
		<table class="table table-striped table-hover table-condensed table-bordered" style="width: 100%;">
			<tbody>
			<tr>
				<td s-click="select({})">
					<a href="javascript:;">全部门店</a>
				</td>
				<td>

				</td>
			</tr>
			</tbody>
			<tbody s="loop" s-data-filter="'results'">
			<tr s-loop-role="empty">
				<td colspan="2">
					<div class="s-ui-none-data-info text-center"><i class="fa fa-info-circle text-info"></i>
						未查询到商家
					</div>
				</td>
			</tr>
			<tr s-loop-role="row" class="user-row" s="datac,row" s-check-role="i">
				<td s-click="select(this.parent().data())">
					<a href="javascript:;" ><span name="name"></span></a>
					<span name="phone" class="pull-right"> </span>
				</td>
				<td class="text-center" s="tpl">
					<span class="label {%=this.status == 'INVALID' ? 'label-danger' : 'label-success'%}">{%=this.status == 'VALID' ? '正常' : '锁定'%}</span>
				</td>
			</tr>
			</tbody>
			<!--<tfoot>-->
			<!--<tr>-->
				<!--<td colspan="2" class="text-right" style="vertical-align: middle">-->
					<!--<div s="pager"-->
						 <!--s-pager="{action: function(){$page.node.val(this); $productBrandsGrid.refresh()}}"-->
						 <!--class="btn-group ">-->
						<!--<button class="btn btn-default btn-sm s-pager-prev"><i class="fa fa-arrow-left"></i>-->
						<!--</button>-->
						<!--<button class="btn btn-default btn-sm s-pager-next"><i class="fa fa-arrow-right"></i>-->
						<!--</button>-->
					<!--</div>-->
				<!--</td>-->
			<!--</tr>-->
			<!--</tfoot>-->
		</table>

	</div>
</div>
<script type="text/javascript">
	// // S.node.delegate('.user-row', 'click', function (e) {
	// //   var node = $(e.currentTarget);
	// //   S.close([Smart.of(node).data()])
	// // })
	// function select($this) {
	// 	S.close([$this.parent().data()])
	// }
</script>