<meta title="银行卡" width="650px" args="storeUser"/>
<form role="form" id="storeUserForm" s="valid,form,nda,datac"
	  class="form-horizontal"
	  method="post"
	  s-data="storeUser"
	  style="padding: 20px;" action="/api/store-user/bank/{storeUser.id}">
	<div class="form-group" s-valid-role="item">
		<label class="col-sm-2 control-label">开户行：</label>
		<div class="col-sm-10">
			<input autocomplete="off" type="text" name="bankName" class="form-control" placeholder="开户行"
				   s-valid-error="require()">
		</div>
	</div>
	<div class="form-group" s-valid-role="item">
		<label class="col-sm-2 control-label">银行账号：</label>
		<div class="col-sm-10">
			<input autocomplete="off" type="text" name="bankAccount" class="form-control bank-account" placeholder="银行账号"
				   s-valid-error="require()">
		</div>
	</div>
	<div class="form-group" s-valid-role="item">
		<label class="col-sm-2 control-label">姓名：</label>
		<div class="col-sm-10">
			<input autocomplete="off" type="text" name="bankAccountName" class="form-control" placeholder="姓名"
				   s-valid-error="require()">
		</div>
	</div>
</form>
<script type="text/javascript">
  S.meta.btns = [
    {
      name: "保存",
      style: "btn btn-primary",
      click: function () {
        return S.S("#storeUserForm").submit().done(function (rs) {
          S.close(true);
          S.notice("修改成功", "success");
        });
      }
    },
    {
      name: "关闭",
      style: "btn btn-default",
      click: function () {
        S.close();
      }
    }
  ]

  S.node.delegate('.bank-account', 'keyup', function() {
    $(this).val(Smart.formatBankAccount($(this).val()))
  })
</script>