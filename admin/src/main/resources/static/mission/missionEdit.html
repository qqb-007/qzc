<meta title="编辑任务" args="mission" width="600"/>
<style>
</style>
<form s="valid,form,nda,datac"
      s-data="mission"
      method="put"
      action="/api/mission/{mission.id}"
      id="form" class="form-horizontal">
    <table class="table">
        <tr>
            <td style="width: 100px;">任务类型</td>
            <td name="typeTitle"></td>
        </tr>
        <tr>
            <td>所需次数</td>
            <td>
                <input autocomplete="off" type="number" name="totalTimes" s-valid-error="require(),number()" class="form-control" placeholder="所需次数">
            </td>
        </tr>
        <tr>
            <td>赠送积分</td>
            <td>
                <input autocomplete="off" type="number" name="integral" s-valid-error="require(),number()" class="form-control" placeholder="赠送积分">
            </td>
        </tr>
        <tr>
            <td>状态</td>
            <td>
                <select class="form-control" s="select"
                        name="status"
                        s-build="S.get('/api/enum/valuesMap/core.enums.MissionStatus?igNames=DELETED,SNAPSHOT')">
                </select>
            </td>
        </tr>
    </table>
</form>
<script>
    mission = mission || {}
    S.meta.btns = [
        {
            name: "确定",
            style: "btn btn-primary",
            click: function() {
                return $form.submit().done(function() {
                    S.close(true)
                })
            }
        },
        {
            name: "关闭",
            style: "btn btn-default",
            click: function() {
                S.close();
            }
        }
    ]

</script>